!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):e.ATAmbient=t()}(this,function(){"use strict";function styleInject(e,t){void 0===t&&(t={});var r=t.insertAt;if(e&&"undefined"!=typeof document){var a=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css","top"===r&&a.firstChild?a.insertBefore(n,a.firstChild):a.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}}var css='@charset "UTF-8";\n/* 自定义样式 */\n.o2team_ambient_main {\n  z-index: 999;\n  pointer-events: none; }\n';styleInject(css);var id="snow-normal",ID=id.toUpperCase(),O2_AMBIENT_MAIN="O2_AMBIENT_".concat(ID,"_MAIN"),O2_AMBIENT_CONFIG="O2_AMBIENT_".concat(ID,"_CONFIG"),O2_AMBIENT_CLASSNAME="o2_ambient_".concat(id);!function(){for(var o=0,e=["ms","moz","webkit","o"],t=0;t<e.length&&!window.requestAnimationFrame;++t)window.requestAnimationFrame=window["".concat(e[t],"RequestAnimationFrame")],window.cancelAnimationFrame=window["".concat(e[t],"CancelAnimationFrame")]||window["".concat(e[t],"CancelRequestAnimationFrame")];window.requestAnimationFrame||(window.requestAnimationFrame=function(e,t){var r=(new Date).getTime(),a=Math.max(0,16-(r-o)),n=window.setTimeout(function(){e(r+a)},a);return o=r+a,n}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();var commonjsGlobal="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function createCommonjsModule(e,t){return e(t={exports:{}},t.exports),t.exports}var runtime_1=createCommonjsModule(function(e){var t=function(o){var c,e=Object.prototype,u=e.hasOwnProperty,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",r=t.asyncIterator||"@@asyncIterator",a=t.toStringTag||"@@toStringTag";function i(e,t,r,a){var n=t&&t.prototype instanceof s?t:s,o=Object.create(n.prototype),i=new I(a||[]);return o._invoke=function(o,i,s){var c=h;return function(e,t){if(c===p)throw new Error("Generator is already running");if(c===_){if("throw"===e)throw t;return j()}for(s.method=e,s.arg=t;;){var r=s.delegate;if(r){var a=C(r,s);if(a){if(a===y)continue;return a}}if("next"===s.method)s.sent=s._sent=s.arg;else if("throw"===s.method){if(c===h)throw c=_,s.arg;s.dispatchException(s.arg)}else"return"===s.method&&s.abrupt("return",s.arg);c=p;var n=l(o,i,s);if("normal"===n.type){if(c=s.done?_:f,n.arg===y)continue;return{value:n.arg,done:s.done}}"throw"===n.type&&(c=_,s.method="throw",s.arg=n.arg)}}}(e,r,i),o}function l(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}o.wrap=i;var h="suspendedStart",f="suspendedYield",p="executing",_="completed",y={};function s(){}function d(){}function g(){}var b={};b[n]=function(){return this};var m=Object.getPrototypeOf,v=m&&m(m(P([])));v&&v!==e&&u.call(v,n)&&(b=v);var T=g.prototype=s.prototype=Object.create(b);function w(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function A(c){var t;this._invoke=function(r,a){function e(){return new Promise(function(e,t){!function t(e,r,a,n){var o=l(c[e],c,r);if("throw"!==o.type){var i=o.arg,s=i.value;return s&&"object"==typeof s&&u.call(s,"__await")?Promise.resolve(s.__await).then(function(e){t("next",e,a,n)},function(e){t("throw",e,a,n)}):Promise.resolve(s).then(function(e){i.value=e,a(i)},function(e){return t("throw",e,a,n)})}n(o.arg)}(r,a,e,t)})}return t=t?t.then(e,e):e()}}function C(e,t){var r=e.iterator[t.method];if(r===c){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=c,C(e,t),"throw"===t.method))return y;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return y}var a=l(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,y;var n=a.arg;return n?n.done?(t[e.resultName]=n.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=c),t.delegate=null,y):n:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,y)}function S(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function O(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function I(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(S,this),this.reset(!0)}function P(t){if(t){var e=t[n];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var r=-1,a=function e(){for(;++r<t.length;)if(u.call(t,r))return e.value=t[r],e.done=!1,e;return e.value=c,e.done=!0,e};return a.next=a}}return{next:j}}function j(){return{value:c,done:!0}}return d.prototype=T.constructor=g,g.constructor=d,g[a]=d.displayName="GeneratorFunction",o.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},o.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,a in e||(e[a]="GeneratorFunction")),e.prototype=Object.create(T),e},o.awrap=function(e){return{__await:e}},w(A.prototype),A.prototype[r]=function(){return this},o.AsyncIterator=A,o.async=function(e,t,r,a){var n=new A(i(e,t,r,a));return o.isGeneratorFunction(t)?n:n.next().then(function(e){return e.done?e.value:n.next()})},w(T),T[a]="Generator",T[n]=function(){return this},T.toString=function(){return"[object Generator]"},o.keys=function(r){var a=[];for(var e in r)a.push(e);return a.reverse(),function e(){for(;a.length;){var t=a.pop();if(t in r)return e.value=t,e.done=!1,e}return e.done=!0,e}},o.values=P,I.prototype={constructor:I,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=c,this.done=!1,this.delegate=null,this.method="next",this.arg=c,this.tryEntries.forEach(O),!e)for(var t in this)"t"===t.charAt(0)&&u.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=c)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(r){if(this.done)throw r;var a=this;function e(e,t){return o.type="throw",o.arg=r,a.next=e,t&&(a.method="next",a.arg=c),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t],o=n.completion;if("root"===n.tryLoc)return e("end");if(n.tryLoc<=this.prev){var i=u.call(n,"catchLoc"),s=u.call(n,"finallyLoc");if(i&&s){if(this.prev<n.catchLoc)return e(n.catchLoc,!0);if(this.prev<n.finallyLoc)return e(n.finallyLoc)}else if(i){if(this.prev<n.catchLoc)return e(n.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<n.finallyLoc)return e(n.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;0<=r;--r){var a=this.tryEntries[r];if(a.tryLoc<=this.prev&&u.call(a,"finallyLoc")&&this.prev<a.finallyLoc){var n=a;break}}n&&("break"===e||"continue"===e)&&n.tryLoc<=t&&t<=n.finallyLoc&&(n=null);var o=n?n.completion:{};return o.type=e,o.arg=t,n?(this.method="next",this.next=n.finallyLoc,y):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),y},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),O(r),y}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var a=r.completion;if("throw"===a.type){var n=a.arg;O(r)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=c),y}},o}(e.exports);try{regeneratorRuntime=t}catch(e){Function("r","regeneratorRuntime = r")(t)}}),regenerator=runtime_1;function asyncGeneratorStep(e,t,r,a,n,o,i){try{var s=e[o](i),c=s.value}catch(e){return void r(e)}s.done?t(c):Promise.resolve(c).then(a,n)}function _asyncToGenerator(s){return function(){var e=this,i=arguments;return new Promise(function(t,r){var a=s.apply(e,i);function n(e){asyncGeneratorStep(a,t,r,n,o,"next",e)}function o(e){asyncGeneratorStep(a,t,r,n,o,"throw",e)}n(void 0)})}}var asyncToGenerator=_asyncToGenerator;function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var classCallCheck=_classCallCheck;function _defineProperties(e,t){for(var r=0;r<t.length;r++){var a=t[r];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}var createClass=_createClass,_typeof_1=createCommonjsModule(function(t){function r(e){return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return"function"==typeof Symbol&&"symbol"===r(Symbol.iterator)?t.exports=a=function(e){return r(e)}:t.exports=a=function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":r(e)},a(e)}t.exports=a});function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var assertThisInitialized=_assertThisInitialized;function _possibleConstructorReturn(e,t){return!t||"object"!==_typeof_1(t)&&"function"!=typeof t?assertThisInitialized(e):t}var possibleConstructorReturn=_possibleConstructorReturn,getPrototypeOf=createCommonjsModule(function(t){function r(e){return t.exports=r=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},r(e)}t.exports=r}),setPrototypeOf=createCommonjsModule(function(r){function a(e,t){return r.exports=a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},a(e,t)}r.exports=a});function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&setPrototypeOf(e,t)}var inherits=_inherits;function isObject(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}var isObject_1=isObject,freeGlobal="object"==typeof commonjsGlobal&&commonjsGlobal&&commonjsGlobal.Object===Object&&commonjsGlobal,_freeGlobal=freeGlobal,freeSelf="object"==typeof self&&self&&self.Object===Object&&self,root=_freeGlobal||freeSelf||Function("return this")(),_root=root,now=function(){return _root.Date.now()},now_1=now,Symbol$1=_root.Symbol,_Symbol=Symbol$1,objectProto=Object.prototype,hasOwnProperty=objectProto.hasOwnProperty,nativeObjectToString=objectProto.toString,symToStringTag=_Symbol?_Symbol.toStringTag:void 0;function getRawTag(e){var t=hasOwnProperty.call(e,symToStringTag),r=e[symToStringTag];try{e[symToStringTag]=void 0}catch(e){}var a=nativeObjectToString.call(e);return t?e[symToStringTag]=r:delete e[symToStringTag],a}var _getRawTag=getRawTag,objectProto$1=Object.prototype,nativeObjectToString$1=objectProto$1.toString;function objectToString(e){return nativeObjectToString$1.call(e)}var _objectToString=objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag$1=_Symbol?_Symbol.toStringTag:void 0;function baseGetTag(e){return null==e?void 0===e?undefinedTag:nullTag:symToStringTag$1&&symToStringTag$1 in Object(e)?_getRawTag(e):_objectToString(e)}var _baseGetTag=baseGetTag;function isObjectLike(e){return null!=e&&"object"==typeof e}var isObjectLike_1=isObjectLike,symbolTag="[object Symbol]";function isSymbol(e){return"symbol"==typeof e||isObjectLike_1(e)&&_baseGetTag(e)==symbolTag}var isSymbol_1=isSymbol,NAN=NaN,reTrim=/^\s+|\s+$/g,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber(e){if("number"==typeof e)return e;if(isSymbol_1(e))return NAN;if(isObject_1(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=isObject_1(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(reTrim,"");var r=reIsBinary.test(e);return r||reIsOctal.test(e)?freeParseInt(e.slice(2),r?2:8):reIsBadHex.test(e)?NAN:+e}var toNumber_1=toNumber,FUNC_ERROR_TEXT="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce(a,r,e){var n,o,i,s,c,u,l=0,h=!1,f=!1,t=!0;if("function"!=typeof a)throw new TypeError(FUNC_ERROR_TEXT);function p(e){var t=n,r=o;return n=o=void 0,l=e,s=a.apply(r,t)}function _(e){var t=e-u;return void 0===u||r<=t||t<0||f&&i<=e-l}function y(){var e=now_1();if(_(e))return d(e);c=setTimeout(y,function(e){var t=r-(e-u);return f?nativeMin(t,i-(e-l)):t}(e))}function d(e){return c=void 0,t&&n?p(e):(n=o=void 0,s)}function g(){var e=now_1(),t=_(e);if(n=arguments,o=this,u=e,t){if(void 0===c)return function(e){return l=e,c=setTimeout(y,r),h?p(e):s}(u);if(f)return c=setTimeout(y,r),p(u)}return void 0===c&&(c=setTimeout(y,r)),s}return r=toNumber_1(r)||0,isObject_1(e)&&(h=!!e.leading,i=(f="maxWait"in e)?nativeMax(toNumber_1(e.maxWait)||0,r):i,t="trailing"in e?!!e.trailing:t),g.cancel=function(){void 0!==c&&clearTimeout(c),n=u=o=c=void(l=0)},g.flush=function(){return void 0===c?s:d(now_1())},g}var debounce_1=debounce,assign=Object.assign||function(e){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),r=1;r<arguments.length;r++){var a=arguments[r];if(null!=a)for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},body=document.body||document.getElementsByTagName("body")[0],Preloader=function(e){this.opts=assign({resources:[],concurrency:0,perMinTime:0,attr:"data-preload",crossOrigin:!1,onProgress:null,onCompletion:null},e);for(var t=document.querySelectorAll("["+this.opts.attr+"]"),r=0;r<t.length;r++){var a=t[r];a.src&&this.opts.resources.push(a.src)}this.length=this.opts.resources.length,this.completedCount=0,this.loadingIndex=0,this.resourceMap={},this.div=document.createElement("div");var n=this.div.style;n.visibility="hidden",n.position="absolute",n.top=n.left="0",n.width=n.height="10px",n.overflow="hidden",n.transform=n.msTransform=n.webkitTransform=n.oTransform="translate(-10px, -10px)",body.appendChild(this.div),this.done=function(e,t){if(0===this.length)return this.onCompletion&&this.onCompletion(0);this.completedCount+=1,this.resourceMap[e]=t,this.onProgress&&this.onProgress(this.completedCount,this.length,e),this.completedCount>=this.length?this.onCompletion&&this.onCompletion(this.length):0<this.opts.concurrency&&this.loader()},this.loader=function(){if(!(this.loadingIndex>=this.length)){var e=this.opts.resources[this.loadingIndex];this.loadingIndex++,~["mp3","ogg","wav"].indexOf(getType(e))?this.audioLoader(e):this.imageLoader(e)}},this.imageLoader=function(r){var a=this,n=new Image;a.opts.crossOrigin&&(n.crossOrigin="Anonymous"),a.div.appendChild(n);var o=new Date;n.onload=n.onerror=function(){var e=new Date-o,t=a.opts.perMinTime-e;0<t?setTimeout(function(){a.done(r,n)},t):a.done(r,n)},n.src=r,n.style.width="auto",n.style.height="auto",n.style.maxWidth="none",n.style.maxHeight="none"},this.audioLoader=function(r){var a=this,n=new Audio;a.div.appendChild(n);var o=new Date,e=function(){var e=new Date-o,t=a.opts.perMinTime-e;0<t?setTimeout(function(){a.done(r,n)},t):a.done(r,n)};n.addEventListener("canplaythrough",e),n.addEventListener("error",e),n.preload="auto",n.src=r,n.load()}};function getType(e){var t=document.createElement("a");return t.href=e,t.pathname.split(".").pop().toLowerCase()}function getRandom(e,t){return Math.random()*(t-e)+e}function getRandomInt(e,t){return Math.floor(Math.random()*(t-e+1))+e}function getDevicePixelRatio(){var e=1;return window.devicePixelRatio&&(e=2<=window.devicePixelRatio?2:1),e}function degToRad(e){return Math.PI/180*e}Preloader.prototype.addProgressListener=function(e){this.onProgress=e},Preloader.prototype.addCompletionListener=function(e){this.onCompletion=e},Preloader.prototype.get=function(e){return this.resourceMap[e]},Preloader.prototype.start=function(){if(!this.length)return this.done(null,null);if(0===this.opts.concurrency)for(;this.loadingIndex<this.length;)this.loader();else for(var e=0;e<this.opts.concurrency;e++)this.loader()};var AmbientBase=function(){function e(){classCallCheck(this,e)}return createClass(e,[{key:"initDOM",value:function(){var e=document.createElement("canvas"),t=this.devicePixelRatio;e.style.position="fixed",e.style.left="0",e.style.top="0",e.style.width="".concat(this.width/t,"px"),e.style.height="".concat(this.height/t,"px"),e.style.zIndex=-1,e.style.pointerEvents="none",e.className=this.className,e.width=this.width,e.height=this.height,this.parent.appendChild(e),this.canvas=e,this.ctx=e.getContext("2d")}},{key:"initFPS",value:function(){this.INTERVAL=1e3/this.FPS,this.nextTime=Date.now(),this.startTime=this.nextTime}},{key:"play",value:function(){this.isPaused=!1,cancelAnimationFrame(this.rafId),this.loop()}},{key:"pause",value:function(){this.isPaused=!0}},{key:"stop",value:function(){cancelAnimationFrame(this.rafId),this.pause()}},{key:"toggle",value:function(){this.isPaused?this.play():this.pause()}},{key:"destory",value:function(){this.stop(),this.unbindEvents(),this.parent.removeChild(this.canvas)}}]),e}();function arrayMap(e,t){for(var r=-1,a=null==e?0:e.length,n=Array(a);++r<a;)n[r]=t(e[r],r,e);return n}var _arrayMap=arrayMap;function baseValues(t,e){return _arrayMap(e,function(e){return t[e]})}var _baseValues=baseValues;function baseTimes(e,t){for(var r=-1,a=Array(e);++r<e;)a[r]=t(r);return a}var _baseTimes=baseTimes,argsTag="[object Arguments]";function baseIsArguments(e){return isObjectLike_1(e)&&_baseGetTag(e)==argsTag}var _baseIsArguments=baseIsArguments,objectProto$2=Object.prototype,hasOwnProperty$1=objectProto$2.hasOwnProperty,propertyIsEnumerable=objectProto$2.propertyIsEnumerable,isArguments=_baseIsArguments(function(){return arguments}())?_baseIsArguments:function(e){return isObjectLike_1(e)&&hasOwnProperty$1.call(e,"callee")&&!propertyIsEnumerable.call(e,"callee")},isArguments_1=isArguments,isArray=Array.isArray,isArray_1=isArray;function stubFalse(){return!1}var stubFalse_1=stubFalse,isBuffer_1=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,n=a&&a.exports===r?_root.Buffer:void 0,o=(n?n.isBuffer:void 0)||stubFalse_1;e.exports=o}),MAX_SAFE_INTEGER=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex(e,t){var r=typeof e;return!!(t=null==t?MAX_SAFE_INTEGER:t)&&("number"==r||"symbol"!=r&&reIsUint.test(e))&&-1<e&&e%1==0&&e<t}var _isIndex=isIndex,MAX_SAFE_INTEGER$1=9007199254740991;function isLength(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=MAX_SAFE_INTEGER$1}var isLength_1=isLength,argsTag$1="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",mapTag="[object Map]",numberTag="[object Number]",objectTag="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",typedArrayTags={};function baseIsTypedArray(e){return isObjectLike_1(e)&&isLength_1(e.length)&&!!typedArrayTags[_baseGetTag(e)]}typedArrayTags[float32Tag]=typedArrayTags[float64Tag]=typedArrayTags[int8Tag]=typedArrayTags[int16Tag]=typedArrayTags[int32Tag]=typedArrayTags[uint8Tag]=typedArrayTags[uint8ClampedTag]=typedArrayTags[uint16Tag]=typedArrayTags[uint32Tag]=!0,typedArrayTags[argsTag$1]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags[weakMapTag]=!1;var _baseIsTypedArray=baseIsTypedArray;function baseUnary(t){return function(e){return t(e)}}var _baseUnary=baseUnary,_nodeUtil=createCommonjsModule(function(e,t){var r=t&&!t.nodeType&&t,a=r&&e&&!e.nodeType&&e,n=a&&a.exports===r&&_freeGlobal.process,o=function(){try{var e=a&&a.require&&a.require("util").types;return e||n&&n.binding&&n.binding("util")}catch(e){}}();e.exports=o}),nodeIsTypedArray=_nodeUtil&&_nodeUtil.isTypedArray,isTypedArray=nodeIsTypedArray?_baseUnary(nodeIsTypedArray):_baseIsTypedArray,isTypedArray_1=isTypedArray,objectProto$3=Object.prototype,hasOwnProperty$2=objectProto$3.hasOwnProperty;function arrayLikeKeys(e,t){var r=isArray_1(e),a=!r&&isArguments_1(e),n=!r&&!a&&isBuffer_1(e),o=!r&&!a&&!n&&isTypedArray_1(e),i=r||a||n||o,s=i?_baseTimes(e.length,String):[],c=s.length;for(var u in e)!t&&!hasOwnProperty$2.call(e,u)||i&&("length"==u||n&&("offset"==u||"parent"==u)||o&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||_isIndex(u,c))||s.push(u);return s}var _arrayLikeKeys=arrayLikeKeys,objectProto$4=Object.prototype;function isPrototype(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||objectProto$4)}var _isPrototype=isPrototype;function overArg(t,r){return function(e){return t(r(e))}}var _overArg=overArg,nativeKeys=_overArg(Object.keys,Object),_nativeKeys=nativeKeys,objectProto$5=Object.prototype,hasOwnProperty$3=objectProto$5.hasOwnProperty;function baseKeys(e){if(!_isPrototype(e))return _nativeKeys(e);var t=[];for(var r in Object(e))hasOwnProperty$3.call(e,r)&&"constructor"!=r&&t.push(r);return t}var _baseKeys=baseKeys,asyncTag="[object AsyncFunction]",funcTag$1="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction(e){if(!isObject_1(e))return!1;var t=_baseGetTag(e);return t==funcTag$1||t==genTag||t==asyncTag||t==proxyTag}var isFunction_1=isFunction;function isArrayLike(e){return null!=e&&isLength_1(e.length)&&!isFunction_1(e)}var isArrayLike_1=isArrayLike;function keys(e){return isArrayLike_1(e)?_arrayLikeKeys(e):_baseKeys(e)}var keys_1=keys;function values(e){return null==e?[]:_baseValues(e,keys_1(e))}var values_1=values;function listCacheClear(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear;function eq(e,t){return e===t||e!=e&&t!=t}var eq_1=eq;function assocIndexOf(e,t){for(var r=e.length;r--;)if(eq_1(e[r][0],t))return r;return-1}var _assocIndexOf=assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete(e){var t=this.__data__,r=_assocIndexOf(t,e);return!(r<0)&&(r==t.length-1?t.pop():splice.call(t,r,1),--this.size,!0)}var _listCacheDelete=listCacheDelete;function listCacheGet(e){var t=this.__data__,r=_assocIndexOf(t,e);return r<0?void 0:t[r][1]}var _listCacheGet=listCacheGet;function listCacheHas(e){return-1<_assocIndexOf(this.__data__,e)}var _listCacheHas=listCacheHas;function listCacheSet(e,t){var r=this.__data__,a=_assocIndexOf(r,e);return a<0?(++this.size,r.push([e,t])):r[a][1]=t,this}var _listCacheSet=listCacheSet;function ListCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}ListCache.prototype.clear=_listCacheClear,ListCache.prototype.delete=_listCacheDelete,ListCache.prototype.get=_listCacheGet,ListCache.prototype.has=_listCacheHas,ListCache.prototype.set=_listCacheSet;var _ListCache=ListCache;function stackClear(){this.__data__=new _ListCache,this.size=0}var _stackClear=stackClear;function stackDelete(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _stackDelete=stackDelete;function stackGet(e){return this.__data__.get(e)}var _stackGet=stackGet;function stackHas(e){return this.__data__.has(e)}var _stackHas=stackHas,coreJsData=_root["__core-js_shared__"],_coreJsData=coreJsData,maskSrcKey=(Fg=/[^.]+$/.exec(_coreJsData&&_coreJsData.keys&&_coreJsData.keys.IE_PROTO||""),Fg?"Symbol(src)_1."+Fg:""),Fg;function isMasked(e){return!!maskSrcKey&&maskSrcKey in e}var _isMasked=isMasked,funcProto=Function.prototype,funcToString=funcProto.toString;function toSource(e){if(null!=e){try{return funcToString.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var _toSource=toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$6=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$4=objectProto$6.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$4).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative(e){return!(!isObject_1(e)||_isMasked(e))&&(isFunction_1(e)?reIsNative:reIsHostCtor).test(_toSource(e))}var _baseIsNative=baseIsNative;function getValue(e,t){return null==e?void 0:e[t]}var _getValue=getValue;function getNative(e,t){var r=_getValue(e,t);return _baseIsNative(r)?r:void 0}var _getNative=getNative,Map=_getNative(_root,"Map"),_Map=Map,nativeCreate=_getNative(Object,"create"),_nativeCreate=nativeCreate;function hashClear(){this.__data__=_nativeCreate?_nativeCreate(null):{},this.size=0}var _hashClear=hashClear;function hashDelete(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _hashDelete=hashDelete,HASH_UNDEFINED="__lodash_hash_undefined__",objectProto$7=Object.prototype,hasOwnProperty$5=objectProto$7.hasOwnProperty;function hashGet(e){var t=this.__data__;if(_nativeCreate){var r=t[e];return r===HASH_UNDEFINED?void 0:r}return hasOwnProperty$5.call(t,e)?t[e]:void 0}var _hashGet=hashGet,objectProto$8=Object.prototype,hasOwnProperty$6=objectProto$8.hasOwnProperty;function hashHas(e){var t=this.__data__;return _nativeCreate?void 0!==t[e]:hasOwnProperty$6.call(t,e)}var _hashHas=hashHas,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=_nativeCreate&&void 0===t?HASH_UNDEFINED$1:t,this}var _hashSet=hashSet;function Hash(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}Hash.prototype.clear=_hashClear,Hash.prototype.delete=_hashDelete,Hash.prototype.get=_hashGet,Hash.prototype.has=_hashHas,Hash.prototype.set=_hashSet;var _Hash=Hash;function mapCacheClear(){this.size=0,this.__data__={hash:new _Hash,map:new(_Map||_ListCache),string:new _Hash}}var _mapCacheClear=mapCacheClear;function isKeyable(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}var _isKeyable=isKeyable;function getMapData(e,t){var r=e.__data__;return _isKeyable(t)?r["string"==typeof t?"string":"hash"]:r.map}var _getMapData=getMapData;function mapCacheDelete(e){var t=_getMapData(this,e).delete(e);return this.size-=t?1:0,t}var _mapCacheDelete=mapCacheDelete;function mapCacheGet(e){return _getMapData(this,e).get(e)}var _mapCacheGet=mapCacheGet;function mapCacheHas(e){return _getMapData(this,e).has(e)}var _mapCacheHas=mapCacheHas;function mapCacheSet(e,t){var r=_getMapData(this,e),a=r.size;return r.set(e,t),this.size+=r.size==a?0:1,this}var _mapCacheSet=mapCacheSet;function MapCache(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var a=e[t];this.set(a[0],a[1])}}MapCache.prototype.clear=_mapCacheClear,MapCache.prototype.delete=_mapCacheDelete,MapCache.prototype.get=_mapCacheGet,MapCache.prototype.has=_mapCacheHas,MapCache.prototype.set=_mapCacheSet;var _MapCache=MapCache,LARGE_ARRAY_SIZE=200;function stackSet(e,t){var r=this.__data__;if(r instanceof _ListCache){var a=r.__data__;if(!_Map||a.length<LARGE_ARRAY_SIZE-1)return a.push([e,t]),this.size=++r.size,this;r=this.__data__=new _MapCache(a)}return r.set(e,t),this.size=r.size,this}var _stackSet=stackSet;function Stack(e){var t=this.__data__=new _ListCache(e);this.size=t.size}Stack.prototype.clear=_stackClear,Stack.prototype.delete=_stackDelete,Stack.prototype.get=_stackGet,Stack.prototype.has=_stackHas,Stack.prototype.set=_stackSet;var _Stack=Stack,HASH_UNDEFINED$2="__lodash_hash_undefined__";function setCacheAdd(e){return this.__data__.set(e,HASH_UNDEFINED$2),this}var _setCacheAdd=setCacheAdd;function setCacheHas(e){return this.__data__.has(e)}var _setCacheHas=setCacheHas;function SetCache(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new _MapCache;++t<r;)this.add(e[t])}SetCache.prototype.add=SetCache.prototype.push=_setCacheAdd,SetCache.prototype.has=_setCacheHas;var _SetCache=SetCache;function arraySome(e,t){for(var r=-1,a=null==e?0:e.length;++r<a;)if(t(e[r],r,e))return!0;return!1}var _arraySome=arraySome;function cacheHas(e,t){return e.has(t)}var _cacheHas=cacheHas,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function equalArrays(e,t,r,a,n,o){var i=r&COMPARE_PARTIAL_FLAG,s=e.length,c=t.length;if(s!=c&&!(i&&s<c))return!1;var u=o.get(e);if(u&&o.get(t))return u==t;var l=-1,h=!0,f=r&COMPARE_UNORDERED_FLAG?new _SetCache:void 0;for(o.set(e,t),o.set(t,e);++l<s;){var p=e[l],_=t[l];if(a)var y=i?a(_,p,l,t,e,o):a(p,_,l,e,t,o);if(void 0!==y){if(y)continue;h=!1;break}if(f){if(!_arraySome(t,function(e,t){if(!_cacheHas(f,t)&&(p===e||n(p,e,r,a,o)))return f.push(t)})){h=!1;break}}else if(p!==_&&!n(p,_,r,a,o)){h=!1;break}}return o.delete(e),o.delete(t),h}var _equalArrays=equalArrays,Uint8Array=_root.Uint8Array,_Uint8Array=Uint8Array;function mapToArray(e){var r=-1,a=Array(e.size);return e.forEach(function(e,t){a[++r]=[t,e]}),a}var _mapToArray=mapToArray;function setToArray(e){var t=-1,r=Array(e.size);return e.forEach(function(e){r[++t]=e}),r}var _setToArray=setToArray,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2,boolTag$1="[object Boolean]",dateTag$1="[object Date]",errorTag$1="[object Error]",mapTag$1="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$1="[object Set]",stringTag$1="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",symbolProto=_Symbol?_Symbol.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function equalByTag(e,t,r,a,n,o,i){switch(r){case dataViewTag$1:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case arrayBufferTag$1:return!(e.byteLength!=t.byteLength||!o(new _Uint8Array(e),new _Uint8Array(t)));case boolTag$1:case dateTag$1:case numberTag$1:return eq_1(+e,+t);case errorTag$1:return e.name==t.name&&e.message==t.message;case regexpTag$1:case stringTag$1:return e==t+"";case mapTag$1:var s=_mapToArray;case setTag$1:var c=a&COMPARE_PARTIAL_FLAG$1;if(s||(s=_setToArray),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;a|=COMPARE_UNORDERED_FLAG$1,i.set(e,t);var l=_equalArrays(s(e),s(t),a,n,o,i);return i.delete(e),l;case symbolTag$1:if(symbolValueOf)return symbolValueOf.call(e)==symbolValueOf.call(t)}return!1}var _equalByTag=equalByTag;function arrayPush(e,t){for(var r=-1,a=t.length,n=e.length;++r<a;)e[n+r]=t[r];return e}var _arrayPush=arrayPush;function baseGetAllKeys(e,t,r){var a=t(e);return isArray_1(e)?a:_arrayPush(a,r(e))}var _baseGetAllKeys=baseGetAllKeys;function arrayFilter(e,t){for(var r=-1,a=null==e?0:e.length,n=0,o=[];++r<a;){var i=e[r];t(i,r,e)&&(o[n++]=i)}return o}var _arrayFilter=arrayFilter;function stubArray(){return[]}var stubArray_1=stubArray,objectProto$9=Object.prototype,propertyIsEnumerable$1=objectProto$9.propertyIsEnumerable,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbols=nativeGetSymbols?function(t){return null==t?[]:(t=Object(t),_arrayFilter(nativeGetSymbols(t),function(e){return propertyIsEnumerable$1.call(t,e)}))}:stubArray_1,_getSymbols=getSymbols;function getAllKeys(e){return _baseGetAllKeys(e,keys_1,_getSymbols)}var _getAllKeys=getAllKeys,COMPARE_PARTIAL_FLAG$2=1,objectProto$a=Object.prototype,hasOwnProperty$7=objectProto$a.hasOwnProperty;function equalObjects(e,t,r,a,n,o){var i=r&COMPARE_PARTIAL_FLAG$2,s=_getAllKeys(e),c=s.length;if(c!=_getAllKeys(t).length&&!i)return!1;for(var u=c;u--;){var l=s[u];if(!(i?l in t:hasOwnProperty$7.call(t,l)))return!1}var h=o.get(e);if(h&&o.get(t))return h==t;var f=!0;o.set(e,t),o.set(t,e);for(var p=i;++u<c;){var _=e[l=s[u]],y=t[l];if(a)var d=i?a(y,_,l,t,e,o):a(_,y,l,e,t,o);if(!(void 0===d?_===y||n(_,y,r,a,o):d)){f=!1;break}p||(p="constructor"==l)}if(f&&!p){var g=e.constructor,b=t.constructor;g!=b&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof b&&b instanceof b)&&(f=!1)}return o.delete(e),o.delete(t),f}var _equalObjects=equalObjects,DataView=_getNative(_root,"DataView"),_DataView=DataView,Promise$1=_getNative(_root,"Promise"),_Promise=Promise$1,Set=_getNative(_root,"Set"),_Set=Set,WeakMap=_getNative(_root,"WeakMap"),_WeakMap=WeakMap,mapTag$2="[object Map]",objectTag$1="[object Object]",promiseTag="[object Promise]",setTag$2="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=_toSource(_DataView),mapCtorString=_toSource(_Map),promiseCtorString=_toSource(_Promise),setCtorString=_toSource(_Set),weakMapCtorString=_toSource(_WeakMap),getTag=_baseGetTag;(_DataView&&getTag(new _DataView(new ArrayBuffer(1)))!=dataViewTag$2||_Map&&getTag(new _Map)!=mapTag$2||_Promise&&getTag(_Promise.resolve())!=promiseTag||_Set&&getTag(new _Set)!=setTag$2||_WeakMap&&getTag(new _WeakMap)!=weakMapTag$1)&&(getTag=function(e){var t=_baseGetTag(e),r=t==objectTag$1?e.constructor:void 0,a=r?_toSource(r):"";if(a)switch(a){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$2;case promiseCtorString:return promiseTag;case setCtorString:return setTag$2;case weakMapCtorString:return weakMapTag$1}return t});var _getTag=getTag,COMPARE_PARTIAL_FLAG$3=1,argsTag$2="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$b=Object.prototype,hasOwnProperty$8=objectProto$b.hasOwnProperty;function baseIsEqualDeep(e,t,r,a,n,o){var i=isArray_1(e),s=isArray_1(t),c=i?arrayTag$1:_getTag(e),u=s?arrayTag$1:_getTag(t),l=(c=c==argsTag$2?objectTag$2:c)==objectTag$2,h=(u=u==argsTag$2?objectTag$2:u)==objectTag$2,f=c==u;if(f&&isBuffer_1(e)){if(!isBuffer_1(t))return!1;l=!(i=!0)}if(f&&!l)return o||(o=new _Stack),i||isTypedArray_1(e)?_equalArrays(e,t,r,a,n,o):_equalByTag(e,t,c,r,a,n,o);if(!(r&COMPARE_PARTIAL_FLAG$3)){var p=l&&hasOwnProperty$8.call(e,"__wrapped__"),_=h&&hasOwnProperty$8.call(t,"__wrapped__");if(p||_){var y=p?e.value():e,d=_?t.value():t;return o||(o=new _Stack),n(y,d,r,a,o)}}return f&&(o||(o=new _Stack),_equalObjects(e,t,r,a,n,o))}var _baseIsEqualDeep=baseIsEqualDeep;function baseIsEqual(e,t,r,a,n){return e===t||(null==e||null==t||!isObjectLike_1(e)&&!isObjectLike_1(t)?e!=e&&t!=t:_baseIsEqualDeep(e,t,r,a,baseIsEqual,n))}var _baseIsEqual=baseIsEqual,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2;function baseIsMatch(e,t,r,a){var n=r.length,o=n,i=!a;if(null==e)return!o;for(e=Object(e);n--;){var s=r[n];if(i&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<o;){var c=(s=r[n])[0],u=e[c],l=s[1];if(i&&s[2]){if(void 0===u&&!(c in e))return!1}else{var h=new _Stack;if(a)var f=a(u,l,c,e,t,h);if(!(void 0===f?_baseIsEqual(l,u,COMPARE_PARTIAL_FLAG$4|COMPARE_UNORDERED_FLAG$2,a,h):f))return!1}}return!0}var _baseIsMatch=baseIsMatch;function isStrictComparable(e){return e==e&&!isObject_1(e)}var _isStrictComparable=isStrictComparable;function getMatchData(e){for(var t=keys_1(e),r=t.length;r--;){var a=t[r],n=e[a];t[r]=[a,n,_isStrictComparable(n)]}return t}var _getMatchData=getMatchData;function matchesStrictComparable(t,r){return function(e){return null!=e&&(e[t]===r&&(void 0!==r||t in Object(e)))}}var _matchesStrictComparable=matchesStrictComparable;function baseMatches(t){var r=_getMatchData(t);return 1==r.length&&r[0][2]?_matchesStrictComparable(r[0][0],r[0][1]):function(e){return e===t||_baseIsMatch(e,t,r)}}var _baseMatches=baseMatches,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey(e,t){if(isArray_1(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!isSymbol_1(e))||(reIsPlainProp.test(e)||!reIsDeepProp.test(e)||null!=t&&e in Object(t))}var _isKey=isKey,FUNC_ERROR_TEXT$1="Expected a function";function memoize(n,o){if("function"!=typeof n||null!=o&&"function"!=typeof o)throw new TypeError(FUNC_ERROR_TEXT$1);var i=function(){var e=arguments,t=o?o.apply(this,e):e[0],r=i.cache;if(r.has(t))return r.get(t);var a=n.apply(this,e);return i.cache=r.set(t,a)||r,a};return i.cache=new(memoize.Cache||_MapCache),i}memoize.Cache=_MapCache;var memoize_1=memoize,MAX_MEMOIZE_SIZE=500;function memoizeCapped(e){var t=memoize_1(e,function(e){return r.size===MAX_MEMOIZE_SIZE&&r.clear(),e}),r=t.cache;return t}var _memoizeCapped=memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath=_memoizeCapped(function(e){var n=[];return 46===e.charCodeAt(0)&&n.push(""),e.replace(rePropName,function(e,t,r,a){n.push(r?a.replace(reEscapeChar,"$1"):t||e)}),n}),_stringToPath=stringToPath,INFINITY=1/0,symbolProto$1=_Symbol?_Symbol.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString(e){if("string"==typeof e)return e;if(isArray_1(e))return _arrayMap(e,baseToString)+"";if(isSymbol_1(e))return symbolToString?symbolToString.call(e):"";var t=e+"";return"0"==t&&1/e==-INFINITY?"-0":t}var _baseToString=baseToString;function toString(e){return null==e?"":_baseToString(e)}var toString_1=toString;function castPath(e,t){return isArray_1(e)?e:_isKey(e,t)?[e]:_stringToPath(toString_1(e))}var _castPath=castPath,INFINITY$1=1/0;function toKey(e){if("string"==typeof e||isSymbol_1(e))return e;var t=e+"";return"0"==t&&1/e==-INFINITY$1?"-0":t}var _toKey=toKey;function baseGet(e,t){for(var r=0,a=(t=_castPath(t,e)).length;null!=e&&r<a;)e=e[_toKey(t[r++])];return r&&r==a?e:void 0}var _baseGet=baseGet;function get(e,t,r){var a=null==e?void 0:_baseGet(e,t);return void 0===a?r:a}var get_1=get;function baseHasIn(e,t){return null!=e&&t in Object(e)}var _baseHasIn=baseHasIn;function hasPath(e,t,r){for(var a=-1,n=(t=_castPath(t,e)).length,o=!1;++a<n;){var i=_toKey(t[a]);if(!(o=null!=e&&r(e,i)))break;e=e[i]}return o||++a!=n?o:!!(n=null==e?0:e.length)&&isLength_1(n)&&_isIndex(i,n)&&(isArray_1(e)||isArguments_1(e))}var _hasPath=hasPath;function hasIn(e,t){return null!=e&&_hasPath(e,t,_baseHasIn)}var hasIn_1=hasIn,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function baseMatchesProperty(r,a){return _isKey(r)&&_isStrictComparable(a)?_matchesStrictComparable(_toKey(r),a):function(e){var t=get_1(e,r);return void 0===t&&t===a?hasIn_1(e,r):_baseIsEqual(a,t,COMPARE_PARTIAL_FLAG$5|COMPARE_UNORDERED_FLAG$3)}}var _baseMatchesProperty=baseMatchesProperty;function identity(e){return e}var identity_1=identity;function baseProperty(t){return function(e){return null==e?void 0:e[t]}}var _baseProperty=baseProperty;function basePropertyDeep(t){return function(e){return _baseGet(e,t)}}var _basePropertyDeep=basePropertyDeep;function property(e){return _isKey(e)?_baseProperty(_toKey(e)):_basePropertyDeep(e)}var property_1=property;function baseIteratee(e){return"function"==typeof e?e:null==e?identity_1:"object"==typeof e?isArray_1(e)?_baseMatchesProperty(e[0],e[1]):_baseMatches(e):property_1(e)}var _baseIteratee=baseIteratee;function createBaseFor(c){return function(e,t,r){for(var a=-1,n=Object(e),o=r(e),i=o.length;i--;){var s=o[c?i:++a];if(!1===t(n[s],s,n))break}return e}}var _createBaseFor=createBaseFor,baseFor=_createBaseFor(),_baseFor=baseFor;function baseForOwn(e,t){return e&&_baseFor(e,t,keys_1)}var _baseForOwn=baseForOwn;function createBaseEach(o,i){return function(e,t){if(null==e)return e;if(!isArrayLike_1(e))return o(e,t);for(var r=e.length,a=i?r:-1,n=Object(e);(i?a--:++a<r)&&!1!==t(n[a],a,n););return e}}var _createBaseEach=createBaseEach,baseEach=_createBaseEach(_baseForOwn),_baseEach=baseEach;function baseMap(e,a){var n=-1,o=isArrayLike_1(e)?Array(e.length):[];return _baseEach(e,function(e,t,r){o[++n]=a(e,t,r)}),o}var _baseMap=baseMap;function map(e,t){return(isArray_1(e)?_arrayMap:_baseMap)(e,_baseIteratee(t,3))}var map_1=map;function baseFilter(e,a){var n=[];return _baseEach(e,function(e,t,r){a(e,t,r)&&n.push(e)}),n}var _baseFilter=baseFilter;function filter(e,t){return(isArray_1(e)?_arrayFilter:_baseFilter)(e,_baseIteratee(t,3))}var filter_1=filter;function baseSlice(e,t,r){var a=-1,n=e.length;t<0&&(t=n<-t?0:n+t),(r=n<r?n:r)<0&&(r+=n),n=r<t?0:r-t>>>0,t>>>=0;for(var o=Array(n);++a<n;)o[a]=e[a+t];return o}var _baseSlice=baseSlice;function castSlice(e,t,r){var a=e.length;return r=void 0===r?a:r,!t&&a<=r?e:_baseSlice(e,t,r)}var _castSlice=castSlice;function baseFindIndex(e,t,r,a){for(var n=e.length,o=r+(a?1:-1);a?o--:++o<n;)if(t(e[o],o,e))return o;return-1}var _baseFindIndex=baseFindIndex;function baseIsNaN(e){return e!=e}var _baseIsNaN=baseIsNaN;function strictIndexOf(e,t,r){for(var a=r-1,n=e.length;++a<n;)if(e[a]===t)return a;return-1}var _strictIndexOf=strictIndexOf;function baseIndexOf(e,t,r){return t==t?_strictIndexOf(e,t,r):_baseFindIndex(e,_baseIsNaN,r)}var _baseIndexOf=baseIndexOf;function charsEndIndex(e,t){for(var r=e.length;r--&&-1<_baseIndexOf(t,e[r],0););return r}var _charsEndIndex=charsEndIndex;function charsStartIndex(e,t){for(var r=-1,a=e.length;++r<a&&-1<_baseIndexOf(t,e[r],0););return r}var _charsStartIndex=charsStartIndex;function asciiToArray(e){return e.split("")}var _asciiToArray=asciiToArray,rsAstralRange="\\ud800-\\udfff",rsComboMarksRange="\\u0300-\\u036f",reComboHalfMarksRange="\\ufe20-\\ufe2f",rsComboSymbolsRange="\\u20d0-\\u20ff",rsComboRange=rsComboMarksRange+reComboHalfMarksRange+rsComboSymbolsRange,rsVarRange="\\ufe0e\\ufe0f",rsZWJ="\\u200d",reHasUnicode=RegExp("["+rsZWJ+rsAstralRange+rsComboRange+rsVarRange+"]");function hasUnicode(e){return reHasUnicode.test(e)}var _hasUnicode=hasUnicode,rsAstralRange$1="\\ud800-\\udfff",rsComboMarksRange$1="\\u0300-\\u036f",reComboHalfMarksRange$1="\\ufe20-\\ufe2f",rsComboSymbolsRange$1="\\u20d0-\\u20ff",rsComboRange$1=rsComboMarksRange$1+reComboHalfMarksRange$1+rsComboSymbolsRange$1,rsVarRange$1="\\ufe0e\\ufe0f",rsAstral="["+rsAstralRange$1+"]",rsCombo="["+rsComboRange$1+"]",rsFitz="\\ud83c[\\udffb-\\udfff]",rsModifier="(?:"+rsCombo+"|"+rsFitz+")",rsNonAstral="[^"+rsAstralRange$1+"]",rsRegional="(?:\\ud83c[\\udde6-\\uddff]){2}",rsSurrPair="[\\ud800-\\udbff][\\udc00-\\udfff]",rsZWJ$1="\\u200d",reOptMod=rsModifier+"?",rsOptVar="["+rsVarRange$1+"]?",rsOptJoin="(?:"+rsZWJ$1+"(?:"+[rsNonAstral,rsRegional,rsSurrPair].join("|")+")"+rsOptVar+reOptMod+")*",rsSeq=rsOptVar+reOptMod+rsOptJoin,rsSymbol="(?:"+[rsNonAstral+rsCombo+"?",rsCombo,rsRegional,rsSurrPair,rsAstral].join("|")+")",reUnicode=RegExp(rsFitz+"(?="+rsFitz+")|"+rsSymbol+rsSeq,"g");function unicodeToArray(e){return e.match(reUnicode)||[]}var _unicodeToArray=unicodeToArray;function stringToArray(e){return _hasUnicode(e)?_unicodeToArray(e):_asciiToArray(e)}var _stringToArray=stringToArray,reTrim$1=/^\s+|\s+$/g;function trim(e,t,r){if((e=toString_1(e))&&(r||void 0===t))return e.replace(reTrim$1,"");if(!e||!(t=_baseToString(t)))return e;var a=_stringToArray(e),n=_stringToArray(t),o=_charsStartIndex(a,n),i=_charsEndIndex(a,n)+1;return _castSlice(a,o,i).join("")}var trim_1=trim,Snow=function(_AmbientBase){function Snow(){var e;return classCallCheck(this,Snow),(e=possibleConstructorReturn(this,getPrototypeOf(Snow).call(this))).devicePixelRatio=getDevicePixelRatio(),e.isPaused=!1,e.isInited=!1,e.durCounter=0,e.timestamp=0,e.isStopAdding=!1,e.reset(),e.initFPS(),e.initDOM(),e.bindEvents(),e.init(),e}var Jm;return inherits(Snow,_AmbientBase),createClass(Snow,[{key:"init",value:function(){this.isInited=!0,this.create()}},{key:"create",value:(Jm=asyncToGenerator(regenerator.mark(function e(){var t=this;return regenerator.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.isTexture=0<this.texturesURL.length,this.isTexture)return e.next=4,this.preloadTextures();e.next=10;break;case 4:this.preloader=e.sent,this.textures=map_1(this.texturesURL,function(e){return t.preloader.get(e)}),this.setTexureCache(),this.draw=this.drawTexture,e.next=12;break;case 10:this.draw=this.drawDefault,this.maxRadius=5;case 12:this.addParticles(),this.play();case 14:case"end":return e.stop()}},e,this)})),function(){return Jm.apply(this,arguments)})},{key:"reset",value:function(){this.width=window.innerWidth*this.devicePixelRatio,this.height=window.innerHeight*this.devicePixelRatio,this.parent=document.querySelector(".o2team_ambient_main"),this.FPS=30,this.texturesURL=values_1(filter_1(window[O2_AMBIENT_CONFIG].textures,function(e){return 0!==trim_1(e).length})),this.particleNumber=window[O2_AMBIENT_CONFIG].particleNumber,this.maxRadius=window[O2_AMBIENT_CONFIG].maxRadius,this.maxSpeed=3,this.className=O2_AMBIENT_CLASSNAME,this.isInited&&this.create()}},{key:"preloadTextures",value:function(){var r=new Preloader({resources:this.texturesURL,concurrency:4});return r.start(),new Promise(function(e,t){r.addCompletionListener(function(){e(r)})})}},{key:"setTexureCache",value:function(){var r=this;this.offCanvas=document.createElement("canvas"),this.offCtx=this.offCanvas.getContext("2d"),this.offWidth=0;var a=this.offHeight=0;this.textures.forEach(function(e,t){r.offWidth+=e.width,r.offHeight=Math.max(e.height,r.offHeight||0),a=Math.max(r.offHeight,e.width)}),this.maxRadius=a,this.offCanvas.width=this.offWidth,this.offCanvas.height=this.offHeight;var n=0;this.imgsSize=[],this.textures.forEach(function(e,t){r.imgsSize.push({x:n,y:0,width:e.width,height:e.height}),r.offCtx.drawImage(e,n,0,e.width,e.height),n+=e.width})}},{key:"bindEvents",value:function(){this.windowResizeHandleSelf=debounce_1(this.windowResizeHandle.bind(this),300),window.addEventListener("resize",this.windowResizeHandleSelf,!1)}},{key:"unbindEvents",value:function(){window.removeEventListener("resize",this.windowResizeHandleSelf,!1)}},{key:"windowResizeHandle",value:function(e){var t=this.devicePixelRatio;this.width=window.innerWidth*t,this.height=window.innerHeight*t,this.canvas.width=this.width,this.canvas.height=this.height,this.canvas.style.width="".concat(this.width/t,"px"),this.canvas.style.height="".concat(this.height/t,"px")}},{key:"addParticles",value:function(){for(var e=[],t=this.maxRadius,r=this.maxSpeed,a=0;a<this.particleNumber;a++){var n=getRandomInt(0,this.textures.length-1),o=(this.isTexture?this.imgsSize[n].width:getRandom(2,t))*(this.devicePixelRatio/2);e.push({x:getRandomInt(0,this.width),y:getRandomInt(0,-this.height),r:o,a:getRandom(0,Math.PI),rotate:getRandomInt(-360,360),offsetX:getRandom(0,1),aStep:.01,opacity:o/t,speed:o/t*r,imgIndex:n})}this.particles=e}},{key:"drawTexture",value:function(){var n=this,o=this.ctx;this.particles.forEach(function(e){var t=n.imgsSize[e.imgIndex],r=t.width,a=t.height;o.save(),o.translate(e.x+r/2,e.y+a/2),o.rotate(degToRad(e.rotate)),o.drawImage(n.offCanvas,t.x,t.y,r,a,-r/2,-a/2,e.r,e.r),o.restore()})}},{key:"drawDefault",value:function(){var r=this.ctx;this.particles.forEach(function(e,t){r.beginPath(),r.arc(e.x,e.y,e.r,0,2*Math.PI,!0),r.fillStyle="rgba(255, 255, 255, ".concat(e.opacity,")"),r.fill()})}},{key:"loop",value:function(e){var r=this;if(this.rafId=requestAnimationFrame(this.loop.bind(this)),!this.isPaused){this.timestamp||(this.timestamp=e);var t=Date.now(),a=t-this.nextTime;if(1e3<=t-this.timestamp&&(this.timestamp=t,this.durCounter+=1),window[O2_AMBIENT_CONFIG].duration&&this.durCounter>=window[O2_AMBIENT_CONFIG].duration&&(this.isStopAdding=!0),a>this.INTERVAL){this.nextTime=t-a%this.INTERVAL,this.ctx.clearRect(0,0,this.width,this.height),this.draw();var n=!this.isStopAdding;this.particles.forEach(function(e,t){e.y+2*e.r<0&&r.isStopAdding||(e.x+=Math.cos(e.a)*e.offsetX,e.a+=e.aStep,e.y+=e.speed,e.y>=r.height&&!r.isStopAdding&&(e.y=-r.maxRadius,e.x=getRandomInt(0,r.width)),0<=e.y+2*e.r&&e.y<r.height&&(n=!0))}),n||(this.endCallback(),cancelAnimationFrame(this.rafId))}}}},{key:"endCallback",value:function endCallback(){var endCallback=window[O2_AMBIENT_CONFIG].endCallback;if("function"==typeof endCallback&&endCallback(),"string"==typeof endCallback)try{eval("(".concat(decodeURI(endCallback),")()"))}catch(e){}}}]),Snow}(AmbientBase),wrapper=document.querySelector(".o2team_ambient_main");function initAmbient(){var e=new Snow({});window[O2_AMBIENT_MAIN]=e}wrapper||(wrapper=document.createElement("div"),wrapper.setAttribute("class","o2team_ambient_main"),wrapper.setAttribute("id","o2team_ambient_main"),document.body.insertAdjacentElement("beforeend",wrapper)),wrapper.addEventListener("click",function(){wrapper.style.display="none"});var snow1="//storage.jd.com/o2images/snow-01.png",snow2="//storage.jd.com/o2images/snow-02.png",snow3="//storage.jd.com/o2images/snow-03.png",snow4="//storage.jd.com/o2images/snow-04.png";function rollup_index(t){t&&Object.keys(window[O2_AMBIENT_CONFIG]).forEach(function(e){void 0!==t[e]&&(window[O2_AMBIENT_CONFIG][e]=t[e])}),initAmbient()}return window[O2_AMBIENT_CONFIG]={particleNumber:60,textures:[snow1,snow2,snow3,snow3,snow3,snow3,snow3,snow4],duration:0,endCallback:encodeURI(function(){console.log("雪花落完了")}.toString())},rollup_index});
//# sourceMappingURL=index.min.js.map
